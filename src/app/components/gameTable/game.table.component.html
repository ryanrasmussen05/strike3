<div id="game-table">

  <div *ngIf="!admin" class="full-width flex justify-center items-center mb2">
    <span class="size-24 weight-500">{{ "Week " + game.week?.weekNumber }}</span>
  </div>

  <div *ngIf="admin" class="full-width flex justify-center items-center mb2">
    <select class="auto-width m0" [(ngModel)]="weekNumber" (change)="weekChange()">
      <option *ngFor="let number of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]" [value]="number">{{ "Week " + number }}</option>
    </select>
    <label for="lock-checkbox" class="size-16 ml2 mr1 clickable">Viewable To All Pickers</label>
    <input id="lock-checkbox" type="checkbox" [(ngModel)]="isWeekPublic" (change)="weekChange()" class="m0">
    <button class="button ml2" *ngIf="weekChanged" (click)="saveWeek()" [disabled]="savingWeek">
      <span *ngIf="!savingWeek">Save Changes</span>
      <i *ngIf="savingWeek" class="fa fa-spinner fa-spin"></i>
    </button>
  </div>

  <div class="full-width flex flex-column items-start overflow-auto">
    <div id="game-table-results" class="mx-auto pt1">
      <div class="flex size-12 weight-500">
        <div class="player-name flex-none"></div>
        <div *ngFor="let number of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]" class="pick flex-none center">{{ number }}</div>
      </div>

      <div class="player-wrapper flex" *ngFor="let strike3Player of game.players" [class.current-user]="strike3Player.signedIn">
        <div class="player-name flex-none center truncate">{{ strike3Player.admin ? strike3Player.name + " (admin)" : strike3Player.name }}</div>
        <div *ngFor="let strike3Pick of strike3Player.picks" class="pick flex-none center" [class.editable]="strike3Pick.canEdit" (click)="openPickModal(strike3Pick)"
             [ngClass]="{'win': strike3Pick.status === pickStatus.Win, 'loss': strike3Pick.status === pickStatus.Loss, 'tie': strike3Pick.status === pickStatus.Tie, 'eliminated': strike3Pick.eliminated}" >
          {{ strike3Pick.team }}
        </div>
      </div>
    </div>
  </div>

  <div class="reveal" id="pick-modal" data-reveal>
    <button class="close-button" data-close type="button"><span aria-hidden="true">&times;</span></button>
    <app-pick [strike3Pick]="selectedPick" [admin]="admin"></app-pick>
  </div>

</div>
